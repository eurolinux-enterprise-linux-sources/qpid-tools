From 8b1389513064c013d0c827e4e91dcfd045624356 Mon Sep 17 00:00:00 2001
From: Jonathan Robie <jonathan.robie@redhat.com>
Date: Tue, 19 Apr 2011 10:35:05 -0400
Subject: [PATCH 4/5] Fixes wrong text for -a option, wrong option name for
 force-if-used.

Resolves Bug 696974
---
 qpid/tools/src/py/qpid-config |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/qpid/tools/src/py/qpid-config b/qpid/tools/src/py/qpid-config
index 1c66d53..a255441 100755
--- a/qpid/tools/src/py/qpid-config
+++ b/qpid/tools/src/py/qpid-config
@@ -159,7 +159,7 @@ def OptionsAndArguments(argv):
     group1 = OptionGroup(parser, "General Options")
     group1.add_option("-t", "--timeout", action="store", type="int", default=10, metavar="<secs>", help="Maximum time to wait for broker connection (in seconds)")
     group1.add_option("-b", "--bindings", action="store_true", help="Show bindings in queue or exchange list")
-    group1.add_option("-a", "--broker-addr", action="store", type="string", default="localhost:5672", metavar="<address>", help="Maximum time to wait for broker connection (in seconds)")
+    group1.add_option("-a", "--broker-addr", action="store", type="string", default="localhost:5672", metavar="<address>", help="Address of qpidd broker")
     group1.add_option("--sasl-mechanism", action="store", type="string", metavar="<mech>", help="SASL mechanism for authentication (e.g. EXTERNAL, ANONYMOUS, PLAIN, CRAM-MD, DIGEST-MD5, GSSAPI). SASL automatically picks the most secure available mechanism - use this option to override.")
     parser.add_option_group(group1)
 
@@ -199,7 +199,7 @@ def OptionsAndArguments(argv):
     group5 = OptionGroup(parser, "Options for Deleting Queues")
     group5.add_option("--force", action="store_true", help="Force delete of queue even if it's currently used or it's not empty")
     group5.add_option("--force-if-not-empty", action="store_true", help="Force delete of queue even if it's not empty")
-    group5.add_option("--force-if-not-used", action="store_true", help="Force delete of queue even if it's currently used")
+    group5.add_option("--force-if-used", action="store_true", help="Force delete of queue even if it's currently used")
     parser.add_option_group(group5)
 
     group6 = OptionGroup(parser, "Options for Declaring Bindings")
@@ -255,7 +255,7 @@ def OptionsAndArguments(argv):
         config._if_unused = False
     if opts.force_if_not_empty:
         config._if_empty = False
-    if opts.force_if_not_used:
+    if opts.force_if_used:
         config._if_unused = False
     if opts.sasl_mechanism:
         config._sasl_mechanism = opts.sasl_mechanism
-- 
1.7.4.4

